# è®Šæ›´æ—¥èªŒ

æœ¬å°ˆæ¡ˆæ‰€æœ‰é‡è¦è®Šæ›´çš†è¨˜éŒ„æ–¼æ­¤æª”æ¡ˆã€‚

æ ¼å¼åŸºæ–¼ [Keep a Changelog](https://keepachangelog.com/en/1.0.0/)ï¼Œ
ä¸¦éµå¾ª [èªæ„åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/spec/v2.0.0.html)ã€‚

---

## [3.2.0] - 2026-02-23

### æŒä¹…åŒ–æ²™ç®± + åœ–è¡¨ç®¡ç·š

### âœ¨ æ–°å¢

- **æŒä¹…åŒ–æ²™ç®±**ï¼ˆ`_PersistentSandbox`ï¼‰ï¼šé€é Docker `attach_socket` é€²è¡Œ stdin/stdout JSON é€šè¨Š
- **åœ–è¡¨è¦åŠƒç®¡ç·š**ï¼šæ¯ä»½æ·±åº¦ç ”ç©¶å ±å‘Šæœ€å¤šç”Ÿæˆ 5 å¼µåœ–è¡¨
- **CJK å­—é«”æ”¯æ´éˆ**ï¼šNoto Sans CJK JP â†’ TC â†’ SC â†’ DejaVu Sans
- **æœå°‹é ç®—æ¨¡å‹**ï¼šæ™ºæ…§åˆ†é…æœå°‹è³‡æº
- **`SANDBOX_MAX_CHART_FAILURES`**ï¼šåœ–è¡¨å¤±æ•—æ—©æœŸä¸­æ­¢ï¼ˆé è¨­ 2 æ¬¡ï¼‰

---

## [3.1.0] - 2026-02-22

### Context Engineeringï¼ˆManus å°é½Šï¼‰

### âœ¨ æ–°å¢

**ä¸Šä¸‹æ–‡å·¥ç¨‹å…ƒä»¶**ï¼ˆ`src/core/context/`ï¼‰
- `ContextManager`ï¼šåƒ…è¿½åŠ ä¸Šä¸‹æ–‡ï¼ŒKV-cache å‹å¥½
- `TodoRecitation`ï¼štodo.md èƒŒèª¦æ¨¡å¼
- `ErrorPreservation`ï¼šä¿ç•™å¤±æ•—å˜—è©¦åœ¨ä¸Šä¸‹æ–‡ä¸­ä¾›é‡è©¦
- `TemplateRandomizer`ï¼šçµæ§‹é›œè¨Šæ³¨å…¥
- `FileBasedMemory`ï¼šæª”æ¡ˆç³»çµ±è¨˜æ†¶
- `ToolAvailabilityMask`ï¼šFeature Flag æ§åˆ¶çš„å·¥å…·é®ç½©ï¼ˆ`src/core/routing/tool_mask.py`ï¼‰

æ‰€æœ‰å…ƒä»¶çš† Feature Flag æ§åˆ¶ï¼Œé è¨­é—œé–‰ã€‚

---

## [3.0.0] - 2026-02-21

### æ­»ç¨‹å¼ç¢¼æ¸…ç† + å–®é«”åˆ†è§£

### ğŸ”¥ ç§»é™¤

**æ­»ç¨‹å¼ç¢¼æ¸…ç†**ï¼ˆç´„ 2,555 è¡Œï¼‰
- `services/browser/`ï¼ˆç¶²é ç€è¦½æœå‹™ â€” ç„¡åŒ¯å…¥è€…ï¼‰
- `services/research/`ï¼ˆç ”ç©¶æœå‹™ â€” è¢« `processors/research/` å–ä»£ï¼‰
- `services/repo/`ï¼ˆGit æ“ä½œ â€” ç„¡åŒ¯å…¥è€…ï¼‰
- `core/runtime/workflow.py`ï¼ˆWorkflowOrchestrator â€” åŒ¯å…¥æå£ï¼‰
- `services/llm/llm_service.py`ï¼ˆèˆŠç‰ˆ LLM æœå‹™ï¼‰
- `knowledge/parser.py`ï¼ˆè¢« `multimodal_parser.py` å–ä»£ï¼‰
- `sandbox/routes.py`ï¼ˆé‡è¤‡çš„æ²™ç®±è·¯ç”±ï¼‰

### âœ¨ æ–°å¢

**DeepResearchProcessor åˆ†è§£**
- 2,173 è¡Œå–®é«” â†’ 7 å€‹å°ˆæ³¨æ¨¡çµ„
  - `processor.py`ï¼šè–„ç·¨æ’å±¤
  - `planner.py`ï¼šç ”ç©¶è¦åŠƒ + SERP æŸ¥è©¢ç”Ÿæˆ
  - `search_executor.py`ï¼šä¸¦è¡Œ/ç«¶é€Ÿå¤šå¼•æ“æœå°‹
  - `analyzer.py`ï¼šæ¼¸é€²å¼ä¸­é–“åˆæˆ + æ‰¹åˆ¤åˆ†æ
  - `computation.py`ï¼šåœ–è¡¨è¦åŠƒ + æ²™ç®±ç¨‹å¼ç¢¼åŸ·è¡Œ
  - `reporter.py`ï¼šæœ€çµ‚å ±å‘Šæ’°å¯« + å¼•ç”¨æ ¼å¼
  - `streaming.py`ï¼šSSE äº‹ä»¶ä½‡åˆ—

**æ“´å±•ç³»çµ±**
- MCP å®¢æˆ¶ç«¯ç®¡ç†å™¨ï¼ˆstdio/SSE å‚³è¼¸ï¼‰
- A2A å®¢æˆ¶ç«¯ç®¡ç†å™¨ï¼ˆæœ¬åœ°/é ç«¯ä»£ç†ï¼‰
- å¥—ä»¶ç®¡ç†å™¨ï¼ˆ`packages/` ç›®éŒ„ï¼‰
- 3 å€‹ç¯„ä¾‹å¤–æ›ï¼šweatherã€translatorã€stock-analyst

---

## [2.0.0] - 2026-02-14

### Linus é¢¨æ ¼æ¶æ§‹é‡æ§‹

ç¨‹å¼ç¢¼å“è³ªå¾ **5/10 æå‡è‡³ 9/10**ï¼Œé›¶ç ´å£æ€§è®Šæ›´ã€‚

### âœ¨ æ–°å¢

**æ ¸å¿ƒæ¶æ§‹**
- **æ¨¡çµ„åŒ–è™•ç†å™¨ç³»çµ±**ï¼šå°‡ `processor.py`ï¼ˆ2611 è¡Œï¼‰æ‹†åˆ†ç‚º 12 å€‹å°ˆæ³¨æ¨¡çµ„
  - `processors/base.py`ã€`chat.py`ã€`knowledge.py`
  - `search.py`ã€`thinking.py`ã€`code.py`
  - `factory.py`
  - `processors/research/`ï¼ˆ3 å€‹æª”æ¡ˆï¼‰

**è³‡æ–™æ¨¡å‹**
- **`models_v2.py`**ï¼šå‡çµ dataclass æ¶æ§‹
  - `ProcessingMode` è³‡æ–™è‡ªåŒ…å«ï¼ˆç„¡å­—å…¸æ˜ å°„ï¼‰
  - `Event` æ¨¡å‹ + SSE åºåˆ—åŒ–
  - `Request`/`Response` å®Œæ•´å‹åˆ¥å®‰å…¨

**ä¾‹å¤–å±¤ç´š**
- **çµæ§‹åŒ– LLM éŒ¯èª¤**ï¼ˆ`services/llm/errors.py`ï¼‰
  - `LLMError` åŸºç¤é¡åˆ¥
  - `ProviderError`ï¼ˆå¯é‡è©¦ï¼‰
  - `ValidationError`ï¼ˆä¸å¯é‡è©¦ï¼‰
  - `OpenAIError`ã€`AnthropicError`ã€`GeminiError`

**å¤šä¾›æ‡‰å•† LLM**
- è‡ªå‹•å‚™æ´éˆï¼šOpenAI â†’ Anthropic â†’ Gemini
- ä¾‹å¤–å¼éŒ¯èª¤è™•ç†ï¼ˆç„¡å­—ä¸²æª¢æŸ¥ï¼‰

### ğŸ”¥ ç§»é™¤

- **å­—ä¸²éŒ¯èª¤æª¢æ¸¬**ï¼šåˆªé™¤ `if result.startswith("[") and "Error]" in result` æ¨¡å¼
- **å­—å…¸æ˜ å°„ç‰¹ä¾‹**ï¼šç§»é™¤ `COGNITIVE_MAPPING` é¡åˆ¥è®Šæ•¸
- **ç¨‹å¼ç¢¼é‡è¤‡**ï¼šå¾ç´„ 5% é™è‡³ <3%

### ğŸ› ä¿®å¾©

- WSL2 Unicode å´©æ½°ï¼š`logger.py` å’Œ `main.py` ä¸­çš„ä»£ç†å­—å…ƒæ¸…ç†
- å¾ªç’°åŒ¯å…¥å•é¡Œï¼šæ­£ç¢ºçš„æ¨¡çµ„çµ„ç¹”
- æ¸¬è©¦ä¸ç©©å®šï¼šç©©å®šçš„éåŒæ­¥æ¸¬è©¦ fixtures

### ğŸ“Š æ”¹å–„

**æ¸¬è©¦è¦†è“‹ç‡**
- å–®å…ƒæ¸¬è©¦ï¼š218 â†’ 272ï¼ˆ+54 æ¸¬è©¦ï¼‰
- è¦†è“‹ç‡ï¼š22% â†’ 52%ï¼ˆ+30 ç™¾åˆ†é»ï¼‰

---

## [1.5.0] - 2026-01-15

### âœ¨ æ–°å¢

**èªçŸ¥æ¶æ§‹**
- é›™åŸ·è¡Œæ™‚ç³»çµ±ï¼ˆModelRuntime + AgentRuntimeï¼‰
- ComplexityAnalyzer è‡ªå‹•æ¨¡å¼è·¯ç”±
- System 1 å›æ‡‰å¿«å–
- CognitiveMetrics æ¯å±¤ç´šè¿½è¹¤

**Feature Flags**
- YAML é©…å‹•è¨­å®šï¼ˆ`config/cognitive_features.yaml`ï¼‰
- ä¸»é–‹é—œ + ç´°ç²’åº¦æ§åˆ¶

**æœå‹™**
- å¤šå¼•æ“æœå°‹
- æ·±åº¦ç ”ç©¶å·¥ä½œæµç¨‹ + SSE ä¸²æµ
- Qdrant å‘é‡è³‡æ–™åº«çŸ¥è­˜åº«

### ğŸ› ä¿®å¾©

- é•·æ™‚é–“åŸ·è¡Œç¨‹åºçš„è¨˜æ†¶é«”æ´©æ¼
- LLM å®¢æˆ¶ç«¯é€¾æ™‚è™•ç†
- éåŒæ­¥å·¥ä½œæµç¨‹çš„ç«¶æ…‹æ¢ä»¶

---

## [1.0.0] - 2025-12-01

### åˆå§‹ç™¼å¸ƒ

**æ ¸å¿ƒåŠŸèƒ½**
- FastAPI REST API
- 6 ç¨®è™•ç†æ¨¡å¼ï¼ˆchatã€knowledgeã€searchã€codeã€thinkingã€researchï¼‰
- JWT èªè­‰
- SSE ä¸²æµæ”¯æ´
- Docker æ²™ç®±ç¨‹å¼ç¢¼åŸ·è¡Œ

**LLM æ•´åˆ**
- OpenAI GPT-4o æ”¯æ´
- Anthropic Claude æ•´åˆ
- ä¸²æµå›æ‡‰ç”Ÿæˆ

**API ç«¯é»**
- `/api/v1/chat` â€” åŒæ­¥èŠå¤©
- `/api/v1/chat/stream` â€” ä¸²æµèŠå¤©
- `/api/v1/documents/upload` â€” æ–‡ä»¶ä¸Šå‚³
- `/api/v1/search` â€” èªæ„æœå°‹
- `/api/v1/sandbox/execute` â€” ç¨‹å¼ç¢¼åŸ·è¡Œ

---

## ç‰ˆæœ¬æ¯”è¼ƒ

### [3.x] vs [2.0.0]

**æ¶æ§‹æ”¹å–„**
- ç§»é™¤ 2,555 è¡Œæ­»ç¨‹å¼ç¢¼
- DeepResearchProcessor åˆ†è§£ç‚º 7 å€‹æ¨¡çµ„
- æ–°å¢ Context Engineering å±¤ï¼ˆ6 å€‹å…ƒä»¶ï¼‰
- æ–°å¢ MCP/A2A æ“´å±•ç³»çµ±
- æ–°å¢æŒä¹…åŒ–æ²™ç®± + åœ–è¡¨ç®¡ç·š

### [2.0.0] vs [1.5.0]

**ç¨‹å¼ç¢¼å“è³ª**
- æœ€å¤§æª”æ¡ˆå¾ 2611 â†’ 1516 è¡Œï¼ˆ-42%ï¼‰
- å¹³å‡æª”æ¡ˆå¤§å°ï¼š280 â†’ 189 è¡Œï¼ˆ-32%ï¼‰
- æ•´é«”å“è³ªï¼š5/10 â†’ 9/10ï¼ˆ+80%ï¼‰

---

## å‡ç´šæŒ‡å—

### å¾ 2.x å‡ç´šè‡³ 3.x

**ç„¡éœ€å‹•ä½œ** â€” 100% å‘å¾Œç›¸å®¹

æ­»ç¨‹å¼ç¢¼ç§»é™¤ä¸å½±éŸ¿ä»»ä½•å…¬é–‹ APIã€‚æ–°å¢çš„ Context Engineering èˆ‡ MCP/A2A åŠŸèƒ½çš†é€é Feature Flag æ§åˆ¶ï¼Œé è¨­é—œé–‰ã€‚

### å¾ 1.x å‡ç´šè‡³ 2.0

**ç„¡éœ€å‹•ä½œ** â€” 100% å‘å¾Œç›¸å®¹

```python
# èˆŠåŒ¯å…¥ä»ç„¶å¯ç”¨
from src.core.processors.factory import ProcessorFactory

# æ–°åŒ¯å…¥ï¼ˆæ¨è–¦ï¼‰
from src.core.models_v2 import Modes
mode = Modes.CHAT
```

---

## é€£çµ

- [GitHub Releases](https://github.com/Zenobia000/openagent_backend/releases)
- [æ–‡ä»¶](docs/)

---

**åœ–ä¾‹**ï¼š
- âœ¨ æ–°å¢ï¼šæ–°åŠŸèƒ½
- ğŸ”§ è®Šæ›´ï¼šç¾æœ‰åŠŸèƒ½è®Šæ›´
- ğŸ› ä¿®å¾©ï¼šBug ä¿®å¾©
- ğŸ”¥ ç§»é™¤ï¼šç§»é™¤çš„åŠŸèƒ½
- ğŸ“Š æ”¹å–„ï¼šæ•ˆèƒ½æˆ–å“è³ªæ”¹å–„
